def palette():
    return [
        (181, 122, 30),
        (78, 26, 19),
        (40, 78, 25),
        (180, 240, 241),
        (121, 49, 145),
        (252, 222, 144),
        (56, 33, 136),
        (222, 169, 64),
        (89, 22, 69),
        (255, 173, 84),
        (66, 144, 129),
        (239, 201, 144),
        (34, 66, 119),
        (206, 218, 231),
        (141, 41, 26),
        (247, 191, 70),
        (107, 213, 220),
        (238, 214, 144),
        (174, 195, 130),
        (195, 195, 195),
        (213, 215, 212),
        (231, 236, 214),
        (234, 238, 239),
        (127, 107, 96),
        (150, 126, 126),
        (182, 171, 167),
        (231, 211, 186),
        (234, 225, 218),
        (217, 219, 206),
        (223, 214, 205),
        (202, 193, 186),
        (236, 232, 221),
        (224, 220, 217),
        (239, 236, 229),
        (234, 233, 229),
        (245, 245, 245),
        (245, 179, 101),
        (245, 179, 101),
        (230, 140, 54),
        (220, 172, 70),
        (255, 255, 255),
        (238, 231, 212),
        (233, 226, 197),
        (235, 220, 187),
        (240, 224, 165),
        (224, 199, 142),
        (205, 168, 124),
        (249, 213, 117),
        (228, 68, 52),
        (230, 144, 119),
        (231, 156, 125),
        (201, 75, 78),
        (230, 176, 166),
        (228, 200, 199),
        (242, 176, 162),
        (218, 108, 109),
        (226, 188, 175),
        (189, 126, 117),
        (209, 199, 197),
        (151, 91, 67),
        (230, 165, 127),
        (123, 94, 78),
        (172, 145, 136),
        (215, 150, 122),
        (230, 201, 187),
        (147, 65, 101),
        (211, 158, 176),
        (100, 73, 116),
        (127, 101, 138),
        (167, 147, 174),
        (197, 5, 124),
        (113, 0, 131),
        (0, 102, 127),
        (0, 160, 186),
        (83, 183, 198),
        (161, 177, 239),
        (127, 140, 192),
        (89, 96, 168),
        (193, 88, 154),
        (163, 79, 175),
        (208, 142, 84),
        (147, 155, 217),
        (234, 79, 0),
        (210, 45, 51),
        (253, 226, 23),
        (255, 164, 221),
        (203, 131, 213),
        (137, 93, 94),
        (2, 255, 25),
        (1, 150, 120),
        (158, 196, 0),
        (163, 68, 2),
        (113, 66, 20),
        (255, 195, 195),
        (133, 95, 168),
        (126, 110, 74),
        (58, 51, 33),
        (61, 47, 34),
        (66, 44, 46),
        (69, 62, 56),
        (51, 44, 77),
        (81, 82, 103),
        (108, 114, 162),
        (139, 147, 186),
        (166, 213, 219),
        (164, 177, 194),
        (197, 188, 209),
        (216, 174, 197),
        (206, 218, 218),
        (210, 214, 213),
        (202, 204, 203),
        (223, 222, 220),
        (93, 91, 68),
        (114, 107, 61),
        (205, 204, 124),
        (143, 209, 221),
        (11, 12, 17),
        (245, 179, 101),
        (227, 102, 100),
        (69, 109, 255),
        (95, 189, 114),
        (244, 211, 46),
        (169, 116, 53),
        (65, 40, 27),
        (65, 40, 27),
        (169, 116, 53),
        (52, 103, 30),
        (243, 243, 243),
        (243, 243, 243),
        (52, 103, 30),
        (119, 57, 167),
        (241, 194, 50),
        (241, 194, 50),
        (119, 57, 167),
        (90, 164, 173),
        (255, 233, 212),
        (255, 233, 212),
        (90, 164, 173),
        (58, 98, 152),
        (217, 217, 217),
        (217, 217, 217),
        (58, 98, 152),
        (131, 8, 8),
        (244, 202, 20),
        (244, 202, 20),
        (131, 8, 8),
        (44, 77, 134),
        (149, 80, 102),
        (108, 21, 18),
        (33, 31, 31),
        (204, 196, 191),
        (239, 155, 155),
        (181, 208, 253),
        (168, 206, 171),
        (141, 92, 68),
        (233, 167, 77),
        (179, 164, 145),
        (95, 79, 68)
    ]


def get_closest_match(rgb):
    best_idx = -1
    diff = 255*255*3
    for idx, prgb in enumerate(palette()):
        if rgb == prgb:
            best_idx = idx
            break

        dr = abs(rgb[0] - prgb[0])
        dg = abs(rgb[1] - prgb[1])
        db = abs(rgb[2] - prgb[2])
        dt = dr * dr + dg * dg + db * db

        if dt < diff:
            best_idx = idx
            diff = dt

    return best_idx
